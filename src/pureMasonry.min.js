"use strict";var brickContainer=document.getElementById("masonry-wall"),build=function(options){for(var bricks=[],brickIndex=0;brickIndex<brickContainer.children.length;brickIndex++){var classNames=brickContainer.children[brickIndex].className.split(" ");classNames.indexOf("brick")>-1&&(brickContainer.children[brickIndex].style.width=options.brickWidth+"px",bricks.push(brickContainer.children[brickIndex]))}for(var grossWidth=options.brickWidth+options.horizontalGutter,bricksPerRow=Math.floor(parseInt(brickContainer.clientWidth)/grossWidth),columnHeight=Array(bricksPerRow).fill(0),brickIndex=0,column=0;bricksPerRow>column;column++)brickIndex<bricks.length&&(bricks[brickIndex].style.left=column*grossWidth+"px",bricks[brickIndex].style.top="0px",columnHeight[column]=bricks[brickIndex].offsetHeight,brickIndex++);for(;brickIndex<bricks.length;){for(var minColumnKey,minColumnValue=Math.min.apply(Math,columnHeight),column=0;bricksPerRow>column;column++)if(columnHeight[column]===minColumnValue){minColumnKey=column;break}bricks[brickIndex].style.left=minColumnKey*grossWidth+"px",bricks[brickIndex].style.top=columnHeight[minColumnKey]+options.verticalGutter+"px",columnHeight[minColumnKey]+=bricks[brickIndex].offsetHeight+options.verticalGutter,brickIndex++}};window.onresize=function(){if(mason.options.underConstruction){var widthBefore=brickContainer.clientWidth;waitingForResize&&clearTimeout(waitingForResize);var waitingForResize=setTimeout(function(){widthBefore!==brickContainer.clientWidth&&build(mason.options)},1e3)}};var mason={options:{},grabTrowel:function(brickWidth,horizontalGutter,verticalGutter){this.options={brickWidth:brickWidth,horizontalGutter:horizontalGutter,verticalGutter:verticalGutter,underConstruction:!0},build(this.options)}};